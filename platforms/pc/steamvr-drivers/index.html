<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-platforms/pc/steamvr-drivers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">SteamVR Skeletal Hand Tracking Driver Guide | VRChat CreatorDocs 非公式日本語翻訳</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://horo5502.github.io/creator-docs_ja/platforms/pc/steamvr-drivers"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SteamVR Skeletal Hand Tracking Driver Guide | VRChat CreatorDocs 非公式日本語翻訳"><meta data-rh="true" name="description" content="This guide is intended to help authors of custom SteamVR Skeletal Input Drivers get their drivers working well with VRChat, now that VRChat is updating to SteamVR Input 2.0. Whether you’ve got an existing driver you’d like to ensure works properly, or you are creating a brand new driver to use with VRChat via SteamVR, it might be a good idea to review Valve’s documentation on creating a SteamVR Skeletal Driver as well as their more general Driver API Documentation"><meta data-rh="true" property="og:description" content="This guide is intended to help authors of custom SteamVR Skeletal Input Drivers get their drivers working well with VRChat, now that VRChat is updating to SteamVR Input 2.0. Whether you’ve got an existing driver you’d like to ensure works properly, or you are creating a brand new driver to use with VRChat via SteamVR, it might be a good idea to review Valve’s documentation on creating a SteamVR Skeletal Driver as well as their more general Driver API Documentation"><link data-rh="true" rel="icon" href="/creator-docs_ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://horo5502.github.io/creator-docs_ja/platforms/pc/steamvr-drivers"><link data-rh="true" rel="alternate" href="https://horo5502.github.io/creator-docs_ja/platforms/pc/steamvr-drivers" hreflang="ja"><link data-rh="true" rel="alternate" href="https://horo5502.github.io/creator-docs_ja/platforms/pc/steamvr-drivers" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/creator-docs_ja/releases/rss.xml" title="VRChat CreatorDocs 非公式日本語翻訳 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/creator-docs_ja/releases/atom.xml" title="VRChat CreatorDocs 非公式日本語翻訳 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EWZ9D3QY7X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EWZ9D3QY7X",{anonymize_ip:!0})</script><link rel="stylesheet" href="/creator-docs_ja/assets/css/styles.f45d05b0.css">
<script src="/creator-docs_ja/assets/js/runtime~main.8bce4424.js" defer="defer"></script>
<script src="/creator-docs_ja/assets/js/main.dd6d3837.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><div class="announcementBar_mb4j" style="background-color:#21af90;color:#000" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><b>このドキュメントは翻訳途中です。正確な情報は英語版をご覧ください。</b></div><button type="button" aria-label="閉じる" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/creator-docs_ja/"><div class="navbar__logo"><img src="/creator-docs_ja/img/logo.png" alt="VRChat Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/creator-docs_ja/img/logo.png" alt="VRChat Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">VRChat CreatorDocs 非公式日本語翻訳</b></a><a class="navbar__item navbar__link" href="/creator-docs_ja/worlds">Worlds</a><a class="navbar__item navbar__link" href="/creator-docs_ja/avatars">Avatars</a><a class="navbar__item navbar__link" href="/creator-docs_ja/about-this-site">このサイトについて</a><a class="navbar__item navbar__link" href="/creator-docs_ja/economy">Creator Economy</a><a class="navbar__item navbar__link" href="/creator-docs_ja/releases">Releases</a></div><div class="navbar__items navbar__items--right"><a href="https://udonsharp.docs.vrchat.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">UdonSharp</a><a href="https://vcc.docs.vrchat.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Creator Companion</a><a class="navbar__item navbar__link" href="/creator-docs_ja/worlds/clientsim">ClientSim</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はダークモード)" aria-label="ダークモードを切り替える(現在はダークモード)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/creator-docs_ja/getting-started">ようこそ!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/creator-docs_ja/sdk/">はじめに</a><button aria-label="&#x27;はじめに&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/creator-docs_ja/avatars/">Avatars</a><button aria-label="&#x27;Avatars&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/creator-docs_ja/worlds/">ワールド</a><button aria-label="&#x27;ワールド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/creator-docs_ja/platforms/">Platforms</a><button aria-label="&#x27;Platforms&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/creator-docs_ja/platforms/android/">Android</a><button aria-label="&#x27;Android&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/creator-docs_ja/platforms/iOS/">iOS</a><button aria-label="&#x27;iOS&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/creator-docs_ja/platforms/pc/">PC</a><button aria-label="&#x27;PC&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/creator-docs_ja/platforms/pc/steamvr-drivers">SteamVR Drivers</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/creator-docs_ja/economy/">Creator Economy</a><button aria-label="&#x27;Creator Economy&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/creator-docs_ja/contribute/">Contribution guide</a><button aria-label="&#x27;Contribution guide&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/creator-docs_ja/about-this-site">このサイトについて</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/creator-docs_ja/how-to-contribute">翻訳の貢献</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/creator-docs_ja/roadmap">Roadmap</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/creator-docs_ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/creator-docs_ja/platforms/"><span itemprop="name">Platforms</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/creator-docs_ja/platforms/pc/"><span itemprop="name">PC</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SteamVR Drivers</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>SteamVR Skeletal Hand Tracking Driver Guide</h1></header>
<p>This guide is intended to help authors of custom <strong>SteamVR Skeletal Input Drivers</strong> get their drivers working well with VRChat, now that VRChat is updating to SteamVR Input 2.0. Whether you’ve got an existing driver you’d like to ensure works properly, or you are creating a brand new driver to use with VRChat via SteamVR, it might be a good idea to review <a href="https://github.com/ValveSoftware/openvr/wiki/Creating-a-Skeletal-Input-Driver" target="_blank" rel="noopener noreferrer">Valve’s documentation on creating a SteamVR Skeletal Driver</a> as well as their more general <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md" target="_blank" rel="noopener noreferrer">Driver API Documentation</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when--how-does-vrchat-use-steamvr-skeletal-data">When &amp; How Does VRChat use SteamVR Skeletal Data?<a href="#when--how-does-vrchat-use-steamvr-skeletal-data" class="hash-link" aria-label="When &amp; How Does VRChat use SteamVR Skeletal Data? への直接リンク" title="When &amp; How Does VRChat use SteamVR Skeletal Data? への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="animating-avatars">Animating Avatars<a href="#animating-avatars" class="hash-link" aria-label="Animating Avatars への直接リンク" title="Animating Avatars への直接リンク">​</a></h3>
<p>For the purposes of animating an avatar’s hands, VRChat will use any skeletal data that is bound to the <code>SkeletonLeftHand</code> or <code>SkeletonRightHand</code> actions whenever they are bound to an input source and are available. In every such case, the skeletal animations for <code>VRSkeletalMotionRange_WithoutController</code> will be fetched from the action and stored into an intermediary. The internal representation of the intermediary will store bone <em>positions</em> as well as <em>rotations</em>, however, as of the writing of this document, the retargeting that gets applied to the avatar will <em>only</em> provide rotations. This is because, unless an avatar’s 3d hand mesh was carefully and thoughtfully designed to work well with joint positions for hands of arbitrary finger lengths, they can appear distorted or crunched. The downside to this is that an avatar hand of arbitrary proportions cannot be guaranteed to accurately serve as visual feedback for actions such as pinching and grabbing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="as-a-gameplaymenuetc-input">As A Gameplay/Menu/etc Input<a href="#as-a-gameplaymenuetc-input" class="hash-link" aria-label="As A Gameplay/Menu/etc Input への直接リンク" title="As A Gameplay/Menu/etc Input への直接リンク">​</a></h3>
<p>VRChat decides to use the provided skeletal animation data as an input on a per-hand basis whenever the Skeleton Action’s <code>eSkeletalTrackingLevel</code> value is <code>VRSkeletalTrackingLevel.VRSkeletalTracking_Full</code></p>
<p>As a recap, <code>eSkeletalTrackingLevel</code> has the following values:</p>
<ul>
<li><code>VRSkeletalTracking_Estimated</code> - body part location can’t be directly determined by the device. Any skeletal pose provided by the device is estimated by assuming the position required to active buttons, triggers, joysticks, or other input sensors. Vive Controllers are the most well known example</li>
<li><code>VRSkeletalTracking_Partial</code> - body part location can be measured directly but with fewer degrees of freedom than the actual body part. Certain body part positions may be unmeasured by the device and estimated from other input data. E.g. Index Controllers, Etee controllers, gloves that only measure finger curl, etc</li>
<li><code>VRSkeletalTracking_Full</code> - body part location can be measured directly throughout the entire range of motion of the body part. E.g. Ultraleap tracking, Meta hand tracking, MediaPipe hand tracking, gloves that measure rotation of each finger segment</li>
</ul>
<p>As such, it should be apparent why we use this value - it tells us directly how much <em>actual information</em> regarding the hand’s pose is available inside of the supplied skeleton. It’s the only part of the API that offers up this kind of information, so we have to use it for this purpose.</p>
<p>The interaction model for full fidelity skeletal hand tracking is built upon us doing quite a bit of involved processing on the skeleton data. We calculate our own <strong>pinch detection</strong> by doing distance checks from the thumbtip to the fingertip, and use it for ‘clicks’ in the UI, as well as gestural inputs that are built around thumb-fingertip pinches for all fingers, index, middle, ring, and pinky. Here are the current gestural actions:</p>
<p>Left Hand:</p>
<ul>
<li>thumb-index pinch:<!-- -->
<ul>
<li>when the palm is directly facing the user’s head: menu open</li>
<li>when the palm is facing away, and a raycast is active: ui click</li>
</ul>
</li>
<li>thumb-middle pinch: locomotion</li>
<li>thumb-ring pinch &amp; hold when generally facing the user’s head: mic mute</li>
<li>thumb-pinky pinch &amp; hold when generally facing user’s head: disable gesture inputs</li>
</ul>
<p>Right Hand:</p>
<ul>
<li>thumb-index pinch: None</li>
<li>thumb-middle pinch: turning</li>
<li>thumb-ring pinch when generally facing user’s head: jump</li>
<li>thumb-pinky pinch when generally facing user’s head: cancel/drop</li>
</ul>
<p>This means that you <strong>do not need to provide these actions</strong> from any non-skeletal, non-pose (boolean, scalar, vector2, etc) <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md#creating-components" target="_blank" rel="noopener noreferrer">input component handles</a> that are related to the ‘device’ that the skeletal hand tracking is come from. In fact, doing so may cause double clicks and/or accidental activations. We’ll go into this more in the <strong>Controller Emulation</strong> section later.</p>
<p>This also means that <em>calculating your joint poses correctly is of utmost importance</em>. Most tracking systems will require some kind of coordinate space conversion to properly match SteamVR’s, and this process presents an opportunity for errors to slip in. This leads us to the next section, visually checking your skeleton data.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-your-skeleton-data-visually">Debugging Your Skeleton Data Visually<a href="#debugging-your-skeleton-data-visually" class="hash-link" aria-label="Debugging Your Skeleton Data Visually への直接リンク" title="Debugging Your Skeleton Data Visually への直接リンク">​</a></h3>
<p>You can visualize your skeleton data for debugging purposes.</p>
<p><img decoding="async" loading="lazy" alt="Accurate Hands Image" src="/creator-docs_ja/assets/images/ghost-hands-e5c3ff567d169cde11c6ad9934bb3c25.png" width="1609" height="820" class="img_ev3q"></p>
<p>These are called the <em>accurate hands</em> in our menu. They always appear in menus and loading scenes, or when the avatar is a generic (non humanoid) avatar. They can optionally be enabled to <em>replace</em> the avatar’s hands locally (not visible over the network) in the controls menu</p>
<p>As indicated in the caption above, VRChat has a hand visualization that we are calling <em>Accurate Hands</em> (as opposed to Avatar Hands). These are the closest possible representation of the underlying tracking data that we can provide while still looking like a 3d hand mesh. These are useful in many cases, but for the purposes of this document, we invite you to use them as a debugging/confirmation tool to ensure that your provided tracking data is accurate and dialed in to provide the best input experience possible. Fingertips should touch when making pinching gestures, and if the tracking system you are using measures the length of each joint, that should be reflected in this as well.</p>
<p>To activate this mode, you’ll want to open the <strong>Main Menu</strong>, then go to the <strong>Settings</strong> page, then the <strong>Controls</strong> category.</p>
<p><img decoding="async" loading="lazy" alt="Controls Page" src="/creator-docs_ja/assets/images/controls-page-dfaa7217215443889493e294642a3be2.png" width="1436" height="1002" class="img_ev3q"></p>
<p>Click the ‘Accurate’ button to the right. The hands should switch.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="controller-emulation">Controller Emulation<a href="#controller-emulation" class="hash-link" aria-label="Controller Emulation への直接リンク" title="Controller Emulation への直接リンク">​</a></h2>
<p>To date, the most common technique for getting optical finger tracking (or less frequently, gloves) working in SteamVR is an approach called ‘controller emulation&#x27;. This is where a custom SteamVR driver uses an <a href="https://github.com/ValveSoftware/openvr/wiki/Input-Profiles" target="_blank" rel="noopener noreferrer">input profile</a>, tracked device objects with the <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md#device-properties" target="_blank" rel="noopener noreferrer">properties</a> of, and rendermodels of, an existing, well-known device in the SteamVR ecosystem, usually Touch or Index controllers, in an attempt to pass off as them. Then sending the skeletal data from the source tracking system (such as Meta Quest or Ultraleap) along the skeletal tracking input handle so that it goes into the application’s skeletal tracking actions, and sometimes sending the fidelity level as full. While this does get the finger tracking data into an application, it is not an ideal approach.</p>
<ul>
<li>Applications can’t tell what the actual hardware being used is</li>
<li>Some properties of a controller (such as fidelity level enum) cannot be changed after the skeletal input component is initialized, which makes multimodal switching between controllers and hands at runtime impossible for the application to respond to</li>
<li>The path-of-least-resistance to filling the virtual controller’s other inputs (trigger, joysticks, buttons, etc) is to put in simple invisible gestures that are frustrating from a user experience perspective.</li>
<li>The virtual inputs for other actions (the aforementioned trigger, joysticks, buttons, etc) can clash with application-side inputs generated from the tracking data. This could manifest in ways such as double-clicks for menu interactions, or a grab event being triggered by the driver and the application’s gestural input system at the same time. This can lead to unexpected and confusing outcomes for the user.</li>
<li>Users will not be able to be able to have a separate binding for finger tracking vs holding a controller. If a user changes or disables an input-action mapping for hands (likely to avoid the previously listed problem), that binding will also remain when they go back to controllers. In the case of clicking or grabbing, this would leave them unable to click or grab when they go back to controllers.</li>
</ul>
<p>For these reasons, we do not officially support this ‘controller emulation’ approach. We have some code that will try to detect when this is happening, and may tell the user that the input is unsupported, possibly having unintended side effects.</p>
<p><em>Please</em> do not misrepresent the hardware/inputs you are sending to SteamVR/VRChat. You may notice that Valve indicates <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md#notes-on-hand-tracking-compatibility" target="_blank" rel="noopener noreferrer">in their documentation</a> that VRChat checks to see if the current controller is Knuckles before activating finger tracking, and that you should use their built in generic controller emulation for targeting VRChat. <strong>This is no longer true</strong>. This guide should be considered authoritative. If you have already set up controller emulation bindings for VRChat using this emulation system, they should be removed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-approaches">Recommended Approaches<a href="#recommended-approaches" class="hash-link" aria-label="Recommended Approaches への直接リンク" title="Recommended Approaches への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-applications">Streaming Applications<a href="#streaming-applications" class="hash-link" aria-label="Streaming Applications への直接リンク" title="Streaming Applications への直接リンク">​</a></h3>
<p>If you’re building a streaming application that connects a standalone device (like Meta Quest) to SteamVR, your application will likely want to support tracked controllers like Touch in addition to controllerless-hand tracking. You may also want to support fast-switching from controllers to hands, in addition to ‘multimodal’ usage, where one hand is holding a controller and the other is tracked in a controllerless fashion. Existing SteamVR drivers such as lighthouse show us that <strong>multiple input devices can live within a single SteamVR driver</strong>. Our recommended approach then is to:</p>
<p>Make a virtual controller (<a href="https://github.com/ValveSoftware/openvr/wiki/Input-Profiles" target="_blank" rel="noopener noreferrer">input profile</a>, tracked device id &amp; <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md#device-properties" target="_blank" rel="noopener noreferrer">properties</a>, <a href="https://github.com/ValveSoftware/openvr/blob/master/docs/Driver_API_Documentation.md#creating-components" target="_blank" rel="noopener noreferrer">input component handles</a>, etc) for each pre-existing physical controller type your streaming application supports.</p>
<p>Make a totally new virtual controller that is just for controllerless hand-tracking.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="physical-controllers">Physical Controllers<a href="#physical-controllers" class="hash-link" aria-label="Physical Controllers への直接リンク" title="Physical Controllers への直接リンク">​</a></h4>
<p>For these, just replicate the controllers you’re passing through. These should have the same input profile and components as they’d normally have - thumbsticks, buttons, etc, and the same tracked device properties (model name, rendermodel, manufacturer, etc), and same input sources/roles (left/right hand for controllers, head for the HMD), and initialize the skeletal tracking level to whichever the controller offers (for touch this would be Estimated).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hand-virtual-controller">Hand Virtual Controller<a href="#hand-virtual-controller" class="hash-link" aria-label="Hand Virtual Controller への直接リンク" title="Hand Virtual Controller への直接リンク">​</a></h4>
<p>For these, you’ll want an input profile and component handles that provide the minimal necessary inputs.  These are:</p>
<ul>
<li>Dashboard</li>
<li>System click (for interacting with the dashboard)</li>
<li>Hand Pose</li>
<li>Skeleton</li>
</ul>
<p>You can provide other inputs if you like (especially if your gestures are well-designed and/or you have an overlay that provides feedback for them), but we recommend leaving them out of the default bindings you provide to VRChat.</p>
<p>From here you’ll want to provide a descriptive set of properties for virtual your hand controller. Let’s use a hypothetical example: Your streaming app is ‘<strong>Bitriver</strong>,’ and it streams the skeletal hand tracking from a Meta Quest. You could do the following for each property:</p>
<p>Both left and right hands:</p>
<table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Prop_ManufacturerName_String</td><td>Meta</td></tr><tr><td>Prop_TrackingSystemName_String</td><td>Oculus Insight</td></tr><tr><td>Prop_ModelNumber_String</td><td>Bitriver_Hand</td></tr><tr><td>Prop_ControllerType_String</td><td>Bitriver_Hand</td></tr><tr><td>TrackedDeviceClass</td><td>Controller</td></tr><tr><td>Prop_InputProfilePath_String</td><td><em>Path to input profile json file</em></td></tr></tbody></table>
<p>For the left hand:</p>
<table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Prop_SerialNumber_String</td><td>BitRiver_Left_Hand</td></tr><tr><td>Prop_ControllerRoleHint_Int32</td><td>1</td></tr></tbody></table>
<p>For the right hand:</p>
<table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Prop_SerialNumber_String</td><td>BitRiver_Right_Hand</td></tr><tr><td>Prop_ControllerRoleHint_Int32</td><td>2</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>Every controller that supports Skeletal Input will have a tracked device, and the <strong>Pose</strong> component of this tracked device is called the <strong>Base Pose</strong> of the skeleton - the skeleton’s transform coordinate space is a child of this base pose.</p></div></div>
<p>When your user’s VR system indicates that it is switching between hand tracking and controller tracking, you will want to indicate this switch by changing the booleans you send in each tracked device’s <strong>Base Pose</strong> components when calling <code>vr::VRserverDriverHost()-&gt;  TrackedDevicePoseUpdated()</code>. The relevant fields in DriverPose_t are:</p>
<ul>
<li><code>poseIsValid</code></li>
<li><code>deviceIsConnected</code></li>
</ul>
<p>When your <strong>controllers</strong> are active, set their <code>poseIsValid</code> to <code>true</code> (unless your controller’s API provides better values for this, such as in the case the API you are using indicates a pose is low-confidence and should be rejected) and <code>deviceIsConnected</code> to true. Then set <code>poseIsValid</code> in your virtual hand to <code>false</code>, and your <code>deviceIsConnected</code> in your virtual hand to <code>false</code></p>
<p>When your <strong>hand tracking</strong> is active, you will want to set the opposite values. Set your controller’s tracked device pose component’s <code>poseIsValid</code> and <code>deviceIsConnected</code> to <code>false</code>, and your virtual hand&#x27;s <code>poseIsValid</code> to <code>true</code> when the hand is tracked, and <code>false</code> when it is untracked, and <code>deviceIsConnected</code> to <code>true</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pcvr-peripherals">PCVR Peripherals<a href="#pcvr-peripherals" class="hash-link" aria-label="PCVR Peripherals への直接リンク" title="PCVR Peripherals への直接リンク">​</a></h4>
<p>In the case that you are building a single peripheral for PCVR (such as writing your own computer vision hand tracking system, or you are building a glove), you will only need to do the second part of the previous section - building a new virtual controller, named appropriately, to represent the hand. You will not need to do any controller vs hand hand-off.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="finger-tracking-exclusive-mode">Finger Tracking Exclusive Mode<a href="#finger-tracking-exclusive-mode" class="hash-link" aria-label="Finger Tracking Exclusive Mode への直接リンク" title="Finger Tracking Exclusive Mode への直接リンク">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Deprecated</div><div class="admonitionContent_BuS1"><p>VRChat may remove this feature in the future. Any non-conformant drivers that provide their own inputs to various actions will provide a worse user experience.</p><p><em>VRChat used this feature during development. All drivers supplied inputs to SteamVR Actions that VRChat&#x27;s custom tracking-based input system could infer on its own. Finger Tracking Exclusive Mode allowed full-fidelity hand tracking during development without getting double clicks, double grabs, etc.</em></p></div></div>
<p>When users enable Finger Tracking Exclusive mode, VRChat disregards any SteamVR inputs bound to actions other than Pose and SkeletonLeftHand and SkeletonRightHand.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated"><b><time datetime="2024-08-16T22:38:57.000Z" itemprop="dateModified">2024年8月16日</time></b>に<!-- -->最終更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/creator-docs_ja/platforms/pc/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">PC</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/creator-docs_ja/economy/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Creator Economy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when--how-does-vrchat-use-steamvr-skeletal-data" class="table-of-contents__link toc-highlight">When &amp; How Does VRChat use SteamVR Skeletal Data?</a><ul><li><a href="#animating-avatars" class="table-of-contents__link toc-highlight">Animating Avatars</a></li><li><a href="#as-a-gameplaymenuetc-input" class="table-of-contents__link toc-highlight">As A Gameplay/Menu/etc Input</a></li><li><a href="#debugging-your-skeleton-data-visually" class="table-of-contents__link toc-highlight">Debugging Your Skeleton Data Visually</a></li></ul></li><li><a href="#controller-emulation" class="table-of-contents__link toc-highlight">Controller Emulation</a></li><li><a href="#recommended-approaches" class="table-of-contents__link toc-highlight">Recommended Approaches</a><ul><li><a href="#streaming-applications" class="table-of-contents__link toc-highlight">Streaming Applications</a><ul><li><a href="#physical-controllers" class="table-of-contents__link toc-highlight">Physical Controllers</a></li><li><a href="#hand-virtual-controller" class="table-of-contents__link toc-highlight">Hand Virtual Controller</a></li><li><a href="#pcvr-peripherals" class="table-of-contents__link toc-highlight">PCVR Peripherals</a></li></ul></li></ul></li><li><a href="#finger-tracking-exclusive-mode" class="table-of-contents__link toc-highlight">Finger Tracking Exclusive Mode</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ドキュメント</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/worlds">Worlds</a></li><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/avatars">Avatars</a></li><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/economy">Creator Economy</a></li></ul></div><div class="col footer__col"><div class="footer__title">ツール</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://udonsharp.docs.vrchat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">UdonSharp</a></li><li class="footer__item"><a href="https://vcc.docs.vrchat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Creator Companion</a></li><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/worlds/clientsim">ClientSim</a></li></ul></div><div class="col footer__col"><div class="footer__title">コミュニティ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/vrchat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/vrchat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">その他</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/releases">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/roadmap">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" href="/creator-docs_ja/privacy-policy">プライバシーポリシー</a></li><li class="footer__item"><a href="https://github.com/horo5502/creator-docs_ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">このサイトのGitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>